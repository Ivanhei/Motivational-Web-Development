(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[153],{3006:function(n,e,t){"use strict";t.d(e,{o1:function(){return a},aM:function(){return u},tv:function(){return c},KW:function(){return l},bb:function(){return d},IX:function(){return f},kB:function(){return h},ZO:function(){return p}});var r=t(6156),i=t(5893);function o(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function s(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?o(Object(t),!0).forEach((function(e){(0,r.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function a(){return(0,i.jsx)("svg",{viewBox:"0 0 47 47",fill:"#FFDD63",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.4667 46.9333C36.4269 46.9333 46.9333 36.4269 46.9333 23.4667C46.9333 10.5064 36.4269 0 23.4667 0C10.5064 0 0 10.5064 0 23.4667C0 36.4269 10.5064 46.9333 23.4667 46.9333ZM16.5 34.9965L35.2 24.2L16.5 13.4036V34.9965Z"})})}function u(){return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"100%",viewBox:"0 0 30.708 30.708",children:(0,i.jsx)("path",{id:"Icon_material-close","data-name":"Icon material-close",d:"M38.208,10.593,35.115,7.5,22.854,19.761,10.593,7.5,7.5,10.593,19.761,22.854,7.5,35.115l3.093,3.093L22.854,25.947,35.115,38.208l3.093-3.093L25.947,22.854Z",transform:"translate(-7.5 -7.5)",fill:"#707070"})})}function c(){return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{height:"100%"},viewBox:"0 0 52.064 44.254",children:(0,i.jsx)("path",{id:"Icon_material-home","data-name":"Icon material-home",d:"M23.826,48.754V33.135H34.238V48.754H47.254V27.929h7.81L29.032,4.5,3,27.929h7.81V48.754Z",transform:"translate(-3 -4.5)",fill:"#333"})})}function l(){return(0,i.jsx)("svg",{style:{height:"100%"},viewBox:"0 0 1000 1000",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M999.667 159.302C999.565 152.975 999.463 147.464 999.463 142.872H818.957C822.427 65.6189 820.08 0 820.08 0H501.925C501.211 0 500.395 3.87774e-07 499.68 0.102052C498.966 3.87774e-07 498.15 0 497.435 0H178.465C178.465 0 176.118 65.6189 179.587 142.872H0.51019H0V188.795V189.509V214.308H0.408152C2.24484 272.579 11.5303 350.444 50.3048 430.248C83.161 497.908 130.507 554.546 190.913 598.53C240.912 634.963 298.155 661.19 361.011 676.804C397.336 715.583 433.151 736.912 464.375 745.484V824.982C459.885 848.658 432.845 928.564 243.973 928.564H214.28V1000H785.693V928.564H756.306C534.679 928.666 535.7 818.553 535.7 818.553V745.484C566.923 736.912 602.024 715.583 638.146 677.11C701.512 661.496 758.857 635.167 809.162 598.53C869.568 554.546 916.914 497.908 949.77 430.248C1002.63 321.359 1000.69 215.94 999.667 159.302ZM114.385 399.02C82.1406 332.585 73.6715 265.639 71.8348 214.308H184.485C186.423 234.208 188.872 253.801 191.934 272.273C210.913 385.447 237.034 485.458 286.421 573.63C211.015 535.463 151.731 475.865 114.385 399.02ZM885.486 399.02C847.936 476.273 788.142 536.177 712.021 574.344C761.612 485.968 787.53 385.754 806.509 272.273C809.57 253.801 812.019 234.208 813.957 214.308H928.036C926.199 265.639 917.832 332.585 885.486 399.02Z",fill:"#333333"})})}function d(){return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"43%",viewBox:"0 0 74.247 74.259",children:(0,i.jsx)("path",{id:"Icon_open-monitor",d:"M3.158.01A4.64,4.64,0,0,0,0,4.65v46.4a4.64,4.64,0,0,0,4.64,4.64h23.2v9.28h-9.28a9.307,9.307,0,0,0-9.28,9.28h55.68a9.307,9.307,0,0,0-9.28-9.28H46.4V55.69H69.6a4.64,4.64,0,0,0,4.64-4.64V4.65A4.64,4.64,0,0,0,69.6.01H4.643a4.64,4.64,0,0,0-.835,0,4.64,4.64,0,0,0-.557,0ZM9.283,9.29h55.68V46.41H9.283Z",transform:"translate(0.003 0.009)",fill:"#ffff97"})})}function f(){return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"43%",viewBox:"0 0 86.967 73.924",children:(0,i.jsx)("path",{id:"Icon_ionic-ios-airplane",d:"M74.337,35.183c-.652,0-2.84.02-3.454.059l-12.452.337a.353.353,0,0,1-.326-.178L39.437,6.529a3.061,3.061,0,0,0-2.59-1.466H32.3c-1.074,0-1.439,1.11-1.055,2.14l9.612,28.3a.387.387,0,0,1-.345.535l-23.484.357a1.527,1.527,0,0,1-1.266-.614l-7.1-8.917a3.011,3.011,0,0,0-2.418-1.209H3.021a.786.786,0,0,0-.729,1.05L6.11,40.316a3.328,3.328,0,0,1,0,2.358L2.291,56.288a.786.786,0,0,0,.729,1.05h3.2a3.068,3.068,0,0,0,2.418-1.209l7.233-9.056a1.552,1.552,0,0,1,1.266-.614l23.35.535a.392.392,0,0,1,.345.535L31.225,75.847c-.384,1.03-.019,2.14,1.055,2.14h4.547a3.037,3.037,0,0,0,2.59-1.466L58.105,47.668a.374.374,0,0,1,.326-.178l12.452.337c.633.04,2.8.059,3.454.059,8.5,0,13.872-2.834,13.872-6.341S82.856,35.183,74.337,35.183Z",transform:"translate(-1.742 -4.563)",fill:"#88def9",stroke:"rgba(0,0,0,0)",strokeWidth:"1"})})}function h(){return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"43%",viewBox:"0 0 83.406 74.55",children:(0,i.jsx)("path",{id:"Icon_metro-bubbles",d:"M77.566,67.259a8.048,8.048,0,0,0,4.411,7.181v1.1a16.41,16.41,0,0,1-14.146-4.966,22.163,22.163,0,0,1-5.706.741c-10.964,0-19.852-7.9-19.852-17.646,0-6.091,3.472-11.461,9.013-14.786a21.291,21.291,0,0,1,10.839-2.86c10.964,0,19.852,7.9,19.852,17.646A16.277,16.277,0,0,1,78.3,63.9a8.006,8.006,0,0,0-.734,3.357ZM37.863,5.143c19.194,0,34.809,12.45,35.28,27.952a27.048,27.048,0,0,0-11.017-2.31,26.268,26.268,0,0,0-17.517,6.492,21.775,21.775,0,0,0-7.573,16.393,21.151,21.151,0,0,0,1.912,8.808c-.36.009-.722.015-1.085.015a43.587,43.587,0,0,1-5.5-.348c-7.581,7.581-16.629,8.94-25.378,9.14V69.428c4.724-2.314,8.823-6.53,8.823-11.348a13.313,13.313,0,0,0-.149-1.978C7.675,50.845,2.571,42.816,2.571,33.817c0-15.836,15.8-28.674,35.292-28.674Z",transform:"translate(-0.571 -3.143)",fill:"#60ffb5",stroke:"rgba(230,199,96,0)",strokeWidth:"4"})})}function p(n){return(0,i.jsx)("svg",s(s({},n),{},{viewBox:"0 0 16 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.63007 0C9.9286 0 11.7919 1.86332 11.7919 4.16185V9.71095C11.7919 12.0095 9.9286 13.8728 7.63007 13.8728C5.33154 13.8728 3.46822 12.0095 3.46822 9.71095V4.16185C3.46822 1.86332 5.33154 0 7.63007 0ZM15.2291 10.8203C14.8995 14.4809 11.9843 17.3962 8.3237 17.7261V22.6127H12.763C13.1461 22.6127 13.4567 22.9233 13.4567 23.3064C13.4567 23.6894 13.1461 24 12.763 24H2.49711C2.11402 24 1.80347 23.6894 1.80347 23.3064C1.80347 22.9233 2.11402 22.6127 2.49711 22.6127H6.93642V17.7261C3.2758 17.3962 0.36069 14.4809 0.0310578 10.8203C-0.0033012 10.4387 0.310553 10.1272 0.69364 10.1272C1.07673 10.1272 1.38324 10.4389 1.42526 10.8197C1.7698 13.9416 4.41635 16.3699 7.63006 16.3699C10.8438 16.3699 13.4903 13.9416 13.8349 10.8197C13.8769 10.4389 14.1834 10.1272 14.5665 10.1272C14.9496 10.1272 15.2634 10.4387 15.2291 10.8203Z",fill:"#333333"})}))}},7922:function(n,e,t){"use strict";var r=t(5503);0===r.Z.apps.length&&r.Z.initializeApp({apiKey:"AIzaSyDBORguQ4fUIgHevka4CiC-M44DM5DoBLQ",authDomain:"gt-uoa.firebaseapp.com",projectId:"gt-uoa",storageBucket:"gt-uoa.appspot.com",messagingSenderId:"990838040454",appId:"1:990838040454:web:25634085dc0b6184696e07"}),e.Z=r.Z},7839:function(n,e,t){"use strict";t.d(e,{$A:function(){return u},TV:function(){return c},hI:function(){return l},Rt:function(){return d},ly:function(){return h},A2:function(){return p},Ye:function(){return g}});t(7757);var r=t(5893),i=t(1163),o=t(7922),s=(t(6690),t(7294)),a=(t(3759),t(1480));function u(n,e){var t=new Array(e),r=n.length,i=new Array(r);if(e>r)throw new RangeError("getRandom: more elements taken than available");for(;e--;){var o=Math.floor(Math.random()*r);t[e]=n[o in i?i[o]:o],i[o]=--r in i?i[r]:r}return t}function c(n){for(var e,t=n.length;0!==t;){e=Math.floor(Math.random()*t),t--;var r=[n[e],n[t]];n[t]=r[0],n[e]=r[1]}return n}function l(n){return"".concat((0,i.useRouter)().basePath).concat(n)}function d(){return new a.y((function(n){var e=o.Z.auth().onAuthStateChanged((function(e){return n.next(e)}),(function(e){return n.error(e)}),(function(){return n.complete()}));return function(){e(),n.complete()}}))}function f(n){var e=/^([^\[]*)\[([^\[]*)\]([^\[]*)$/g.exec(n);return e?{before:e[1],inside:e[2],after:e[3]}:null}function h(n){var e=n.sentence,t=n.inside,i=f(e);return i?(0,r.jsxs)(r.Fragment,{children:[i.before," ",(0,r.jsx)("u",{children:t})," ",i.after]}):(0,r.jsx)(r.Fragment,{children:e})}function p(n,e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=f(n);if(!r)return n;var i=t?" ":"";return r.before+i+e+i+r.after}function g(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{volume:1},t=e.volume,r=(0,s.useMemo)((function(){var e=new Audio(n);return e.volume=t,e}),[n,t]),i=(0,s.useCallback)((function(){return r.currentTime=0,r.play().catch((function(n){if("NotAllowedError"!==n.name)throw n;console.log("This system does not allow audio to be auto-played.")}))}),[r]);return{audio:r,play:i}}},4288:function(n,e,t){"use strict";t.d(e,{Z:function(){return u}});var r=t(5893),i=t(7839),o=t(7922),s=(t(6690),t(5913)),a=t.n(s);function u(n){var e=n.signInSuccessUrl,t=(0,i.hI)(e||""),s={signInFlow:"popup",signInSuccessUrl:e?t:void 0,signInOptions:[o.Z.auth.EmailAuthProvider.PROVIDER_ID]};return(0,r.jsx)(a(),{uiConfig:s,firebaseAuth:o.Z.auth()})}},1153:function(n,e,t){"use strict";t.d(e,{Z:function(){return un}});var r,i=t(5893),o=t(7329),s=t(4699),a=t(1664),u=t(9008),c=t(3006),l=t(7294),d=t(4288),f=t(6716),h=t(2401),p=t(1751),g=t(4975),v=t(7839),m={en:{hint_button:"Hint",answer_button:"Answer",instruction_spelling_audio:"Spell the word you heard.",instruction_mc_audio:"Select the word you heard.",instruction_spelling_translate:'Write "[]" in English.',instruction_mc_translate:"Translate the underlined word.",instruction_speech:'Read the word "[]".',recording_button:"Press to Speak"},jp:{hint_button:"\u30d2\u30f3\u30c8",answer_button:"\u6b21\u3078",instruction_spelling_audio:"\u805e\u3053\u3048\u305f\u5358\u8a9e\u3092\u66f8\u3044\u3066\u304f\u3060\u3055\u3044",instruction_mc_audio:"\u805e\u3053\u3048\u305f\u5358\u8a9e\u3092\u9078\u3093\u3067\u304f\u3060\u3055\u3044",instruction_spelling_translate:"\u300c[]\u300d\u3092\u82f1\u8a9e\u3067\u66f8\u3044\u3066\u304f\u3060\u3055\u3044",instruction_mc_translate:"\u4e0b\u7dda\u4ed8\u304d\u6587\u5b57\u3092\u7ffb\u8a33\u3057\u3066\u304f\u3060\u3055\u3044",instruction_speech:"\u300c[]\u300d\u3092\u82f1\u8a9e\u3067\u8aad\u307f\u4e0a\u3052\u3066\u304f\u3060\u3055\u3044",recording_button:"\u62bc\u3057\u3066\u8a71\u3059"}};function w(n){var e=n.audio_url,t=(0,l.useMemo)((function(){return new Audio(e)}),[e]),r=(0,l.useCallback)((function(){t.play().catch((function(n){if("NotAllowedError"!==n.name)throw n;console.log("This system does not allow audio to be auto-played.")}))}),[t]);return(0,l.useEffect)((function(){r()}),[r]),(0,i.jsx)("div",{className:"question_area audio",children:e?(0,i.jsx)("div",{className:"playbutton",onClick:function(n){return r()},children:(0,i.jsx)(c.o1,{})}):(0,i.jsx)("h3",{style:{color:"red"},children:"Error: Audio not found. "})})}function x(n){var e=n.options,t=n.selected,o=n.onChange,s=n.answerState;return(0,i.jsx)("div",{className:"answer_area options",children:e.map((function(n,e){return(0,i.jsx)("button",{disabled:s!==r.NOT_ANSWERED_YET&&t!==n,className:"option "+(t===n?s===r.ANSWER_CORRECT?"correct":s===r.ANSWER_INCORRECT?"incorrect":"selected":""),onClick:function(e){return o(n)},children:n},e)}))})}function j(n,e){return n===e}function C(n){var e=n.lang;return(0,i.jsx)("div",{className:"instruction",children:m[e].instruction_mc_audio})}!function(n){n[n.NOT_ANSWERED_YET=-1]="NOT_ANSWERED_YET",n[n.ANSWER_INCORRECT=0]="ANSWER_INCORRECT",n[n.ANSWER_CORRECT=1]="ANSWER_CORRECT"}(r||(r={}));var _={UI:function(n){var e=n.lang,t=n.challenge,r=n.currentAnswer,o=n.onAnswerChange,s=n.answerState;return(0,i.jsxs)("div",{className:"session quizStyles question_container",children:[(0,i.jsx)(C,{lang:e}),(0,i.jsx)(w,{audio_url:t.audio_url}),(0,i.jsx)(x,{options:t.options,selected:r,onChange:o,answerState:s})]})},checkAnswer:j};function b(n){var e=n.question,t=n.primary,r=n.secondary,o=n.image_url,s=(0,l.useMemo)((function(){return t?(0,i.jsx)(v.ly,{sentence:t,inside:e}):(0,i.jsx)(i.Fragment,{})}),[t,e]),a=(0,l.useMemo)((function(){return r?(0,i.jsx)(v.ly,{sentence:r,inside:"\u3000\u3000\u3000"}):(0,i.jsx)(i.Fragment,{})}),[r]);return(0,i.jsxs)("div",{className:"question_area ".concat(r?"multilingual":""," ").concat(o?"image_container":""),children:[t?(0,i.jsx)("div",{className:"primary",children:s}):null,r?(0,i.jsx)("div",{className:"secondary",children:a}):null,o?(0,i.jsx)("img",{src:o,alt:e}):null]})}function N(n){var e=n.lang;return(0,i.jsx)("div",{className:"instruction",children:m[e].instruction_mc_translate})}var y={UI:function(n){var e,t,r=n.lang,o=n.challenge,s=n.currentAnswer,a=n.onAnswerChange,u=n.answerState;return(0,i.jsxs)("div",{className:"session quizStyles question_container",children:[(0,i.jsx)(N,{lang:r}),(0,i.jsx)(b,{question:o.question,primary:null===(e=o.sentence)||void 0===e?void 0:e.japanese,secondary:null===(t=o.sentence)||void 0===t?void 0:t.english,image_url:o.image_url}),(0,i.jsx)(x,{options:o.options,selected:s,onChange:a,answerState:u})]})},checkAnswer:j};function E(n){var e=n.value,t=n.onChange,o=n.answerState;return(0,i.jsx)("div",{className:"answer_area input_container",children:(0,i.jsx)("input",{autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",onChange:function(n){return t(n.target.value)},className:"input "+(e.length>0?o===r.ANSWER_CORRECT?"correct":o===r.ANSWER_INCORRECT?"incorrect":"answered":""),value:e})})}function S(n,e){return n.toLowerCase()===e.toLowerCase()}function R(n){var e=n.lang;return(0,i.jsx)("div",{className:"instruction",children:m[e].instruction_spelling_audio})}var A={UI:function(n){var e=n.lang,t=n.challenge,r=n.currentAnswer,o=n.onAnswerChange,s=n.answerState;return(0,i.jsxs)("div",{className:"session quizStyles question_container",children:[(0,i.jsx)(R,{lang:e}),(0,i.jsx)(w,{audio_url:t.audio_url}),(0,i.jsx)(E,{value:r,onChange:o,answerState:s})]})},checkAnswer:S};function O(n){var e=n.lang,t=n.question;return(0,i.jsx)("div",{className:"instruction",children:(0,v.A2)(m[e].instruction_spelling_translate,t)})}var T={UI:function(n){var e,t,r=n.lang,o=n.challenge,s=n.currentAnswer,a=n.onAnswerChange,u=n.answerState;return(0,i.jsxs)("div",{className:"session quizStyles question_container",children:[(0,i.jsx)(O,{lang:r,question:o.question}),(0,i.jsx)(b,{question:o.question,primary:null===(e=o.sentence)||void 0===e?void 0:e.japanese,secondary:null===(t=o.sentence)||void 0===t?void 0:t.english,image_url:o.image_url}),(0,i.jsx)(E,{value:s,onChange:a,answerState:u})]})},checkAnswer:S};function Z(n){var e=n.word,t=n.audio_url,r=n.listeningToSpeech,o=n.onPlayingStateChange,s=(0,l.useState)(!1),a=s[0],u=s[1],d=(0,l.useMemo)((function(){var n=new Audio(t);return n.addEventListener("ended",(function(n){u(!1)})),n}),[t]),f=(0,l.useCallback)((function(){d.play().catch((function(n){if("NotAllowedError"!==n.name)throw n;console.log("This system does not allow audio to be auto-played.")})).then((function(){u(!0)}))}),[d]);return(0,l.useEffect)((function(){o(a)}),[a,o]),(0,l.useEffect)((function(){r&&(d.pause(),d.currentTime=0)}),[r,d]),(0,i.jsx)("div",{className:"question_area speech",children:(0,i.jsxs)("div",{className:"primary",children:[(0,i.jsx)("div",{className:"playbutton",onClick:function(n){return f()},children:(0,i.jsx)(c.o1,{})}),(0,i.jsx)("span",{children:e})]})})}var k=t(2515);function I(n){var e=n.lang,t=n.answer,o=n.onChange,s=n.onNext,a=n.answerState,u=n.audioPlaying,d=n.onListeningStateChange,f=(0,k.x6)(),h=f.transcript,p=f.listening,g=f.resetTranscript,v=f.browserSupportsSpeechRecognition;(0,l.useEffect)((function(){h.split(/[^a-zA-Z0-9]+/).some((function(n){return(null===n||void 0===n?void 0:n.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase())}))&&(g(),o(t))}),[t,v,o,s,g,h]),(0,l.useEffect)((function(){p||s()}),[s,p]);var w=(0,l.useCallback)((function(n){u||(p?k.ZP.stopListening():k.ZP.startListening({continuous:!1}))}),[u,p]);return(0,l.useEffect)((function(){d(p)}),[p,d]),(0,l.useEffect)((function(){u&&k.ZP.stopListening()}),[u]),(0,i.jsxs)("div",{className:"answer_area speech",children:[(0,i.jsxs)("button",{className:"\n          ".concat(p?"recording":""," \n          ").concat(a===r.ANSWER_CORRECT?"correct":"","\n          ").concat(a===r.ANSWER_INCORRECT?"incorrect":"","\n        "),onClick:w,disabled:!v||u,onFocus:function(n){n.target.blur()},children:[(0,i.jsx)(c.ZO,{width:"16",height:"24"}),(0,i.jsx)("span",{children:m[e].recording_button})]}),v?"":(0,i.jsx)("div",{style:{color:"red",marginTop:"1rem"},children:"This browser does not support speech. Please use Chrome or Safari with Internet coneection."})]})}function M(n){var e=n.lang,t=n.question,r=n.question_en;return(0,i.jsx)("div",{className:"instruction",children:"en"===e?(0,v.A2)(m.en.instruction_speech,r):(0,v.A2)(m.jp.instruction_speech,t)})}var P={UI:function(n){var e=n.lang,t=n.challenge,r=n.onAnswerChange,o=n.onNext,s=n.answerState,a=(0,l.useState)(!1),u=a[0],c=a[1],d=(0,l.useState)(!1),f=d[0],h=d[1],p=(0,l.useMemo)((function(){var n=t.answer.toLowerCase();return n.charAt(0).toUpperCase()+n.slice(1)}),[t.answer]);return(0,i.jsxs)("div",{className:"session quizStyles question_container",children:[(0,i.jsx)(M,{lang:e,question:t.question,question_en:p}),(0,i.jsx)(Z,{word:p,audio_url:t.audio_url,listeningToSpeech:f,onPlayingStateChange:c}),(0,i.jsx)(I,{lang:e,answer:t.answer,onNext:o,onChange:r,answerState:s,audioPlaying:u,onListeningStateChange:h})]})},checkAnswer:function(n,e){return n.toLowerCase()===e.toLowerCase()}};function q(n,e){var t=n.challenge,o=(0,l.useState)(""),s=o[0],a=o[1],u=(0,l.useState)([]),c=(u[0],u[1],(0,l.useState)(r.NOT_ANSWERED_YET)),d=c[0],w=c[1],x=(0,l.useMemo)((function(){return"mc"===t.type?"translate"===(null===t||void 0===t?void 0:t.subtype)?y:_:"spelling"===t.type?"translate"===(null===t||void 0===t?void 0:t.subtype)?T:A:P}),[null===t||void 0===t?void 0:t.subtype,t.type]),j=(0,v.hI)("/assets/sounds/correct_2.mp3"),C=(0,v.hI)("/assets/sounds/incorrect_2.mp3"),b=(0,v.Ye)(j,{volume:.1}),N=(0,v.Ye)(C,{volume:.1}),E=(0,l.useCallback)((function(){if(d===r.NOT_ANSWERED_YET){var e=x.checkAnswer(t.answer,s),i=e?r.ANSWER_CORRECT:r.ANSWER_INCORRECT;w(i),e?b.play():N.play(),e&&n.onCorrect()}}),[s,d,t.answer,b,N,x,n]),S=(0,l.useCallback)((function(){a(""),n.onNext(d===r.ANSWER_CORRECT),w(r.NOT_ANSWERED_YET)}),[d,n]),R=(0,l.useCallback)((function(){d===r.NOT_ANSWERED_YET?E():S()}),[d,E,S]),O=(0,l.useMemo)((function(){return new f.x}),[]);(0,l.useEffect)((function(){var n=(0,h.R)(document,"keyup").pipe((0,g.h)((function(n){return"Enter"===n.code}))),e=(0,p.T)(O,n).subscribe((function(n){0!==s.length&&R()}));return function(){e.unsubscribe()}}),[s,s.length,d,O,t.answer,E,S,R]);var Z=(0,l.useMemo)((function(){return"en"}),[]),k=(0,l.useMemo)((function(){return m[Z]}),[Z]);return(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)(x.UI,{lang:Z,currentAnswer:s,challenge:t,onNext:function(){return O.next()},onAnswerChange:function(n){d===r.NOT_ANSWERED_YET&&a(n)},answerState:d}),(0,i.jsxs)("div",{className:"footer quizStyles",children:[(0,i.jsxs)("div",{className:"session",children:[(0,i.jsx)("div",{className:"flex-grow"}),(0,i.jsx)("button",{disabled:0===s.length,onClick:function(n){return O.next()},children:k.answer_button})]}),(0,i.jsx)("div",{className:"advice ".concat(d===r.NOT_ANSWERED_YET?"":"shown"),children:(0,i.jsxs)("div",{className:"session",children:[(0,i.jsx)("div",{className:"flex-grow"}),(0,i.jsx)("button",{onClick:function(n){return O.next()},children:"Next Question"})]})})]})]})}function L(n){var e=(0,v.hI)("/assets/sounds/finish.wav"),t=(0,v.Ye)(e,{volume:.1});return(0,l.useEffect)((function(){t.play()}),[t]),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("h2",{children:"Congratulations!"}),(0,i.jsx)("div",{children:"You have completed the quiz!"})]})}function D(){return(0,i.jsx)("div",{className:"px-40 lg:px-60 xl:px-80 text-center",children:(0,i.jsx)("svg",{version:"1.1",id:"loader-1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 50 50",style:{enableBackground:"new 0 0 50 50",width:"100%",maxWidth:"72px",display:"inline-block"},children:(0,i.jsx)("path",{fill:"#000",d:"M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z",children:(0,i.jsx)("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 25 25",to:"360 25 25",dur:"0.6s",repeatCount:"indefinite"})})})})}var W=t(8346),H=t(2334),V=t(5720),U=t(2303),z=t(2890),B=t(9127),Y=t(7877),F=t(6156),Q=t(7922);t(6550);function $(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function K(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?$(Object(t),!0).forEach((function(e){(0,F.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var X=Q.Z.storage(),G=function(n){return K(K({},n.data()),{},{id:n.id,_ref:n.ref})},J=function(n){return n.audio?X.ref().child(n.audio).getDownloadURL().then((function(e){return K(K({},n),{},{audio_url:e})})).catch((function(e){return console.error("Error while getting Audio URL. ",e.code),n})):n},nn=function(n){return n.image?X.ref().child(n.image).getDownloadURL().then((function(e){return K(K({},n),{},{image_url:e})})).catch((function(e){return console.error("Error while getting Image URL. ",e.code),n})):n},en=function(n){return function(e){return e.length>n?(0,v.$A)(e,n):e}},tn=((0,Y.z)((function(n){return n.get()})),(0,B.U)(G)),rn=(0,Y.z)((function(n){return Promise.all(n.map((function(n){return n.get()})))})),on=(0,B.U)((function(n){return n.map(G)})),sn=((0,B.U)((function(n){return n.docs.map(G)})),(0,Y.z)((function(n){return Promise.all(n.map(J))}))),an=((0,Y.z)(J),(0,Y.z)((function(n){return Promise.all(n.map(nn))})));(0,Y.z)(nn),t(3759);function un(n){var e=n.topic,t=(0,l.useState)(0),r=t[0],h=t[1],p=(0,l.useState)(0),m=p[0],w=p[1],x=(0,l.useState)(0),j=x[0],C=x[1],_=(0,l.useState)([]),b=_[0],N=_[1],y=(0,l.useState)(!1),E=y[0],S=y[1],R=(0,l.useState)(!1),A=R[0],O=R[1],T=(0,l.useMemo)((function(){return new f.x}),[]),Z=(0,l.useMemo)((function(){return new W.t(1)}),[]);return(0,l.useEffect)((function(){var n=(0,v.Rt)().subscribe(Z);return function(){n.unsubscribe()}}),[Z]),(0,l.useEffect)((function(){E&&m===r&&T.next()}),[E,m,r,T]),(0,l.useEffect)((function(){var n=Z.pipe((0,g.h)((function(n){return!!n}))).pipe((0,z.P)()).pipe((0,B.U)((function(n){return Q.Z.firestore().collection("users").doc(n.uid).collection("finishedProblems").doc(e.id).get()}))).pipe((0,Y.z)((function(n){return n}))).pipe(tn).pipe((0,B.U)((function(n){return n.problems}))),t=new f.x,r=t.pipe((0,B.U)((function(n){return n.problems}))),i=(0,H.a)([n,r]).pipe((0,B.U)((function(n){var e=(0,s.Z)(n,2),t=e[0],r=e[1];if(!t)return r;var i=en(8)(r.filter((function(n){return!t.some((function(e){return e.isEqual(n)}))}))),a=en(2)(t);return[].concat((0,o.Z)(i),(0,o.Z)(a))}))).pipe((0,B.U)((function(n){return(0,v.TV)(n)}))),a=i.pipe(rn).pipe(on).pipe(sn).pipe(an),u=new V.w0;return u.add(a.subscribe((function(n){N(n),S(!0)}))),u.add(i.subscribe((function(n){return h(n.length)}))),u.add(Z.subscribe((function(n){return O(!n)}))),u.add((0,H.a)([t,i,Z,T]).pipe((0,g.h)((function(n){var e=(0,s.Z)(n,4),t=(e[0],e[1],e[2]);e[3];return!!t}))).pipe((0,z.P)()).subscribe((function(n){var e,t=(0,s.Z)(n,4),r=t[0],i=t[1],a=t[2];t[3];Q.Z.firestore().collection("users").doc(a.uid).collection("finishedProblems").doc(r.id).set({topic:r._ref,problems:(e=Q.Z.firestore.FieldValue).arrayUnion.apply(e,(0,o.Z)(i))},{merge:!0})}))),u.add((0,U.Dp)(e.get()).pipe(tn).subscribe(t)),function(){u.unsubscribe()}}),[T,Z,e]),(0,i.jsxs)("div",{className:"app-container",children:[(0,i.jsx)(u.default,{children:(0,i.jsx)("title",{children:"Quiz"})}),(0,i.jsxs)("nav",{className:"session progressNav",children:[(0,i.jsx)("div",{style:{opacity:E?1:0},className:"progressBar",children:(0,i.jsx)("div",{style:{width:100*j+"%"},className:"progress"})}),(0,i.jsx)("div",{className:"cross",children:(0,i.jsx)(a.default,{href:"/",children:(0,i.jsx)("a",{children:(0,i.jsx)(c.aM,{})})})})]}),A?(0,i.jsx)(d.Z,{}):E?m===b.length?(0,i.jsx)(L,{}):(0,i.jsx)(q,{challenge:b[m],isLastQuestion:m===r-1,onCorrect:function(){C((function(n){return n+1/r}))},onNext:function(n){n?w((function(n){return n+1})):N((function(n){var e=n.splice(m,1);return[].concat((0,o.Z)(n),(0,o.Z)(e))}))}}):(0,i.jsx)(D,{})]})}}}]);