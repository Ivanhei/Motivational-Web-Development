(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{246:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return Z}});var o=i(5893),t=i(7329),a=i(1664),s=i(9008),r=i(7922),c=(i(3404),i(6690),i(3006)),l=i(7839),u=i(7294),d=i(3),f=i(6716),v=i(5720),h=i(7877),g=i(9127),x=i(2407),m=i(1361),_=i(6156),j=i(6503),p=i.n(j),b=i(1389);function N(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,o)}return i}function y(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?N(Object(i),!0).forEach((function(n){(0,_.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):N(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var w=r.Z.storage().ref();function C(e){var n=e.shown,i=e.onSave,t=e.onClose,a=(e.language,(0,u.useState)(null)),s=a[0],r=a[1],d=(0,u.useCallback)((function(e){r(e[0])}),[]),f=(0,b.u)({onDrop:d}),v=f.getRootProps,h=f.getInputProps,g=f.isDragActive,x=(0,u.useState)(void 0),m=x[0],_=x[1];(0,u.useEffect)((function(){_(s?URL.createObjectURL(s):void 0)}),[s]);var j=(0,u.useState)(!1),N=j[0],C=j[1],B=(0,u.useState)(!1),k=B[0],D=B[1];(0,u.useEffect)((function(){n?(C(!0),D(!0)):(D(!1),setTimeout((function(){C(!1)}),250))}),[n]);var S=(0,u.useState)(!1),O=S[0],E=S[1],T=(0,l.BF)(),U=(0,u.useState)(null),Z=U[0],P=U[1];return(0,u.useEffect)((function(){T.subscribe((function(e){P(e?e.uid:null)}))}),[T]),(0,o.jsx)("div",{className:"overlay-layout",style:{opacity:k?1:0,display:N?"flex":"none",transition:"250ms",justifyContent:"center",alignItems:"center"},children:(0,o.jsxs)("div",{className:p().box,children:[(0,o.jsxs)("div",{className:p().head,children:[(0,o.jsx)("div",{className:p().title,children:"Change Icon"}),(0,o.jsx)("div",{className:p().close,onClick:function(e){r(null),t()},children:(0,o.jsx)(c.aM,{})})]}),(0,o.jsx)("div",{className:p().content,children:(0,o.jsxs)("div",y(y({},v()),{},{className:p().imageDrag+" "+(g?p().dragging:""),children:[(0,o.jsx)("input",y({},h())),g?(0,o.jsx)("div",{children:"Drop the files here..."}):m?(0,o.jsx)("div",{className:"w-full h-full rounded-full",style:{background:"url(".concat(m,") 0% 0% / cover")}}):(0,o.jsx)("div",{children:"Drag and drop some files here, or click to select files."}),O?(0,o.jsx)("div",{className:p()["loading-overlay"],children:(0,o.jsx)("div",{className:p().icon,children:(0,o.jsx)(c.Ho,{})})}):null]}))}),(0,o.jsxs)("div",{className:p().foot,children:[(0,o.jsx)("div",{className:p().primary,children:(0,o.jsx)("button",{disabled:!s||O,onClick:function(e){E(!0),w.child("UserAvatar/"+Z).put(s).then((function(){E(!1),r(null),i()})).catch((function(e){E(!1)}))},children:"Save"})}),(0,o.jsx)("div",{className:p().secondary})]})]})})}var B=i(252),k=i.n(B);function D(e){var n=e.shown,i=e.message,t=e.tropy,a=t.name,s=t.color;return(0,o.jsxs)("div",{className:"\n    ".concat(k().notificationBanner,"\n    ").concat(k()[s],"\n    ").concat(n?k().shown:"","\n  "),children:[(0,o.jsx)("div",{className:k().icon,children:(0,o.jsx)(c.rm,{})}),(0,o.jsxs)("div",{className:k().detail,children:[(0,o.jsx)("div",{className:k().message,children:i}),(0,o.jsx)("div",{className:k().name,children:a})]})]})}var S={en:{nav_home:"Home",nav_trophies:"Trophies",user_change_avatar:"Change Avatar",user_login:"Login",user_logout:"Logout"},jp:{nav_home:"\u30db\u30fc\u30e0",nav_trophies:"\u30c8\u30ed\u30d5\u30a3\u30fc",user_change_avatar:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u5909\u66f4",user_login:"\u30ed\u30b0\u30a4\u30f3",user_logout:"\u30ed\u30b0\u30a2\u30a6\u30c8"}},O=r.Z.storage().ref();function E(e){var n=e.color||"#333333";return(0,o.jsxs)("svg",{height:"100%",viewBox:"0 0 70 70",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("path",{fill:n,fillRule:"evenodd",clipRule:"evenodd",d:"M70 35C70 54.33 54.33 70 35 70C15.67 70 0 54.33 0 35C0 15.67 15.67 0 35 0C54.33 0 70 15.67 70 35ZM66.1112 35C66.1112 52.1822 52.1822 66.1111 35 66.1111C17.8179 66.1111 3.88893 52.1822 3.88893 35C3.88893 17.8178 17.8179 3.88892 35 3.88892C52.1822 3.88892 66.1112 17.8178 66.1112 35Z"}),(0,o.jsx)("path",{fill:n,d:"M35 61.4446C49.6049 61.4446 61.4444 49.605 61.4444 35.0001C61.4444 20.3952 49.6049 8.55566 35 8.55566C20.3951 8.55566 8.55554 20.3952 8.55554 35.0001C8.55554 49.605 20.3951 61.4446 35 61.4446Z"})]})}function T(e){var n=e.link,i=e.icon,t=e.title;return(0,o.jsx)("div",{className:"item",children:(0,o.jsx)(a.default,{href:n||"",children:(0,o.jsxs)("a",{children:[i||null,(0,o.jsx)("span",{children:t})]})})})}function U(e){var n=e.link,i=e.color,t=e.overlay,s=e.name;return(0,o.jsxs)("div",{className:"wrap",children:[(0,o.jsx)("div",{}),(0,o.jsx)("div",{className:"item",children:(0,o.jsx)(a.default,{href:n||"",children:(0,o.jsxs)("a",{children:[(0,o.jsxs)("div",{className:"icon",children:[(0,o.jsx)("div",{className:"icon-bg",children:(0,o.jsx)(E,{color:i})}),(0,o.jsx)("div",{className:"icon-main",children:t})]}),(0,o.jsx)("div",{className:"name",children:s})]})})}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{})]})}function Z(e){var n=(0,l.NF)(),i=n.userLoaded,a=n.user,_=(0,u.useState)(!1),j=_[0],p=_[1],b=(0,u.useCallback)((function(){p((function(e){return!e}))}),[]),N=(0,u.useRef)(null),y=(0,u.useState)(!1),w=y[0],B=y[1],k=(0,u.useState)(null),E=k[0],Z=k[1];(0,u.useEffect)((function(){Z(null),a&&O.child("UserAvatar/"+a.uid).getDownloadURL().catch((function(e){return O.child("UserAvatar/default_male.png").getDownloadURL()})).then((function(e){Z(e)}))}),[a,j]);var P=(0,l.BF)(),R=(0,u.useMemo)((function(){return new d.t(1)}),[]),M=(0,u.useRef)([]),z=(0,u.useRef)(null),A=(0,u.useState)(!1),L=A[0],F=A[1],q=(0,u.useState)({color:"string",condition:{},name:"string"}),I=q[0],H=q[1],V=(0,u.useState)(!1),X=V[0],W=V[1],Y=(0,u.useMemo)((function(){return new f.x}),[]);(0,u.useEffect)((function(){var e=new v.w0;return e.add(Y.subscribe((function(){z.current&&null!==a&&void 0!==a&&a.uid&&r.Z.firestore().collection("users").doc(a.uid).update({queuedTropyNotifications:r.Z.firestore.FieldValue.arrayRemove(z.current)})}))),function(){e.unsubscribe()}}),[Y,null===a||void 0===a?void 0:a.uid]),(0,u.useEffect)((function(){var e=new v.w0;return e.add(P.pipe((0,h.z)((function(e){return r.Z.firestore().collection("users").doc(e.uid).get()}))).pipe(x.hs).subscribe(R)),e.add(R.pipe((0,g.U)((function(e){return e.queuedTropyNotifications}))).pipe(x.Zh).pipe(x.Qg).pipe(m.Q).subscribe((function(e){var n;(n=M.current).push.apply(n,(0,t.Z)(e)),F(!0)}))),function(){e.unsubscribe()}}),[P,R]),(0,u.useEffect)((function(){if(L){var e=null,n=null;return i(),function(){clearTimeout(e),clearTimeout(n)}}function i(){var i=M.current.shift();i&&(z.current=i._ref,H(i),W(!0),n=setTimeout((function(){Y.next()}),1e3),e=setTimeout(o,5200))}function o(){W(!1),e=setTimeout(i,200)}}),[L,Y]);var K=e.language,Q=(0,u.useMemo)((function(){return S[K]}),[K]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"home-container",children:[(0,o.jsx)(s.default,{children:(0,o.jsx)("title",{children:"Motivational Web Development"})}),(0,o.jsx)("nav",{className:"homeNav",children:(0,o.jsxs)("div",{className:"session",children:[(0,o.jsx)(T,{title:Q.nav_home,icon:(0,o.jsx)(c.tv,{}),link:"/"}),(0,o.jsx)(T,{title:Q.nav_trophies,icon:(0,o.jsx)(c.KW,{}),link:"/trophies"}),(0,o.jsx)("div",{className:"item",style:{paddingTop:"1.5rem",paddingBottom:"1.5rem"},children:!i||a&&!E?(0,o.jsx)("div",{className:"group relative flex items-center",children:(0,o.jsx)("div",{className:"w-16 h-16 rounded-full",children:(0,o.jsx)(c.Ho,{style:{width:"100%"}})})}):a?(0,o.jsxs)("div",{className:"group relative flex items-center",children:[(0,o.jsx)("div",{style:{backgroundImage:"url(".concat(E,")"),backgroundColor:"rgba(var(--color-text-rgb), 0.25)",backgroundSize:"cover"},className:"w-12 h-12 rounded-full"}),(0,o.jsxs)("div",{style:{top:"100%",right:-10,marginTop:-10,background:"#fff",whiteSpace:"nowrap"},className:"group-hover:block absolute shadow-xl rounded-2xl hidden text-center",children:[(0,o.jsx)("div",{className:"px-8 py-3 hover:bg-gray-100 active:bg-gray-200 rounded-t-2xl",onClick:function(e){B(!0)},children:Q.user_change_avatar}),(0,o.jsx)("div",{className:"px-8 py-3 hover:bg-gray-100 active:bg-gray-200 rounded-b-2xl",onClick:function(e){r.Z.auth().signOut()},children:Q.user_logout})]})]}):(0,o.jsx)(T,{title:"Login",link:Q.user_login})})]})}),(0,o.jsxs)("div",{className:"topics session",children:[(0,o.jsx)(U,{name:"Computer Science",color:"#EE2E22",overlay:(0,o.jsx)(c.bb,{}),link:"quiz/CSE"}),(0,o.jsx)(U,{name:"Academics",color:"#476cff",overlay:(0,o.jsx)(c.IX,{}),link:"quiz/Academics"}),(0,o.jsx)(U,{name:"Texting",color:"#0bac61",overlay:(0,o.jsx)(c.kB,{}),link:"quiz/Texting"})]})]}),(0,o.jsxs)("div",{className:"overlay-container",ref:N,children:[(0,o.jsx)(C,{shown:w,onSave:function(){B(!1),b()},onClose:function(){B(!1)},language:K}),(0,o.jsx)("div",{className:"overlay-layout right transparent",children:(0,o.jsx)(D,{shown:X,message:"\u30c8\u30ed\u30d5\u30a3\u30fc\u3092\u30b2\u30c3\u30c8\u3057\u307e\u3057\u305f\uff01",tropy:I})})]})]})}},5301:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(246)}])},6503:function(e){e.exports={box:"DialogBox_box__S_UC-",head:"DialogBox_head__1NaSO",foot:"DialogBox_foot__FU4gZ",content:"DialogBox_content__3pSSD",title:"DialogBox_title__2uUJU",close:"DialogBox_close__1VdlZ",imageDrag:"DialogBox_imageDrag__UuMVk","loading-overlay":"DialogBox_loading-overlay__1TVoX",icon:"DialogBox_icon__1fEww",dragging:"DialogBox_dragging__21nYg"}},252:function(e){e.exports={notificationBanner:"NotificationBanner_notificationBanner__1WRT1",shown:"NotificationBanner_shown__26BpT",icon:"NotificationBanner_icon__3-jjY",ruby:"NotificationBanner_ruby__1imaY",diamond:"NotificationBanner_diamond__3U43c",gold:"NotificationBanner_gold__2zfZA",silver:"NotificationBanner_silver__2-Uo5",bronze:"NotificationBanner_bronze__3K4o9",detail:"NotificationBanner_detail__1Th6H",name:"NotificationBanner_name__3D3CF"}}},function(e){e.O(0,[774,828,834,724,237,757,661,389,58,888,179],(function(){return n=5301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);