(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[599],{676:function(r,e,t){"use strict";function n(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}t.d(e,{Z:function(){return n}})},7329:function(r,e,t){"use strict";t.d(e,{Z:function(){return i}});var n=t(676);var o=t(2961);function i(r){return function(r){if(Array.isArray(r))return(0,n.Z)(r)}(r)||function(r){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}(r)||(0,o.Z)(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2961:function(r,e,t){"use strict";t.d(e,{Z:function(){return o}});var n=t(676);function o(r,e){if(r){if("string"===typeof r)return(0,n.Z)(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?(0,n.Z)(r,e):void 0}}},7922:function(r,e,t){"use strict";var n=t(5503);0===n.Z.apps.length&&n.Z.initializeApp({apiKey:"AIzaSyDBORguQ4fUIgHevka4CiC-M44DM5DoBLQ",authDomain:"gt-uoa.firebaseapp.com",projectId:"gt-uoa",storageBucket:"gt-uoa.appspot.com",messagingSenderId:"990838040454",appId:"1:990838040454:web:25634085dc0b6184696e07"}),e.Z=n.Z},4285:function(r,e,t){"use strict";t.r(e),t.d(e,{default:function(){return d}});var n=t(5893),o=t(6156),i=t(7329),c=t(7922),a=(t(3759),t(7294));function u(r,e){var t;if("undefined"===typeof Symbol||null==r[Symbol.iterator]){if(Array.isArray(r)||(t=function(r,e){if(!r)return;if("string"===typeof r)return l(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(r);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l(r,e)}(r))||e&&r&&"number"===typeof r.length){t&&(r=t);var n=0,o=function(){};return{s:o,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(r){throw r},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){t=r[Symbol.iterator]()},n:function(){var r=t.next();return c=r.done,r},e:function(r){a=!0,i=r},f:function(){try{c||null==t.return||t.return()}finally{if(a)throw i}}}}function l(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function s(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.push.apply(t,n)}return t}function f(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?s(Object(t),!0).forEach((function(e){(0,o.Z)(r,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))}))}return r}var p=c.Z.firestore();function d(){var r=(0,a.useState)([]),e=r[0],t=r[1],o=(0,a.useState)([]),l=o[0],s=o[1],d=(0,a.useMemo)((function(){for(var r=(0,i.Z)(e),t=0;t<r.length;t++)if(r[t]._belongTopic=-1,r[t].topic)for(var n=0;n<l.length;n++)r[t].topic.isEqual(l[n]._ref)&&(r[t]._belongTopic=n);return r}),[e,l]);function b(r){return function(e){var t=parseInt(e.target.value);t>=0&&t<l.length&&Promise.all([r.topic.update({problems:c.Z.firestore.FieldValue.arrayRemove(r._ref)}),l[t]._ref.update({problems:c.Z.firestore.FieldValue.arrayUnion(r._ref)}),r._ref.update({topic:l[t]._ref})]).then((function(){console.log("Done Updating!!")})).catch((function(){console.error("Error occurred during update.")}))}}return(0,a.useEffect)((function(){var r=[p.collection("problems").onSnapshot((function(r){t(r.docs.map((function(r){return f(f({},r.data()),{},{id:r.id,_ref:r.ref})})))})),p.collection("topic").onSnapshot((function(r){s(r.docs.map((function(r){return f(f({},r.data()),{},{id:r.id,_ref:r.ref})})))}))];return function(){var e,t=u(r);try{for(t.s();!(e=t.n()).done;){(0,e.value)()}}catch(n){t.e(n)}finally{t.f()}}}),[]),(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:"Problems Details"}),(0,n.jsxs)("table",{className:"border-collapse",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Document ID"}),(0,n.jsx)("th",{children:"Details"}),(0,n.jsx)("th",{children:"Topic"})]})}),(0,n.jsx)("tbody",{children:d.map((function(r,e){var t="";for(var o in r)t+="".concat(o,": ").concat(r[o],"\n");return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"border",children:r.id}),(0,n.jsx)("td",{className:"border",children:(0,n.jsx)("pre",{children:t})}),(0,n.jsx)("td",{className:"border",children:(0,n.jsxs)("select",{name:"problem_".concat(r.id,"_topic"),onChange:b(r),value:r._belongTopic,children:[-1===r._belongTopic?(0,n.jsx)("option",{value:-1,children:"(not selected)"},-1):null,l.map((function(r,e){return(0,n.jsx)("option",{value:e,children:r.name},e)}))]})})]},r.id)}))})]})]})}},3028:function(r,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/problems_table",function(){return t(4285)}])}},function(r){r.O(0,[828,788,774,888,179],(function(){return e=3028,r(r.s=e);var e}));var e=r.O();_N_E=e}]);