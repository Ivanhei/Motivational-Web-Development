(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[997],{676:function(r,t,e){"use strict";function n(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}e.d(t,{Z:function(){return n}})},7329:function(r,t,e){"use strict";e.d(t,{Z:function(){return i}});var n=e(676);var o=e(2961);function i(r){return function(r){if(Array.isArray(r))return(0,n.Z)(r)}(r)||function(r){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}(r)||(0,o.Z)(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2961:function(r,t,e){"use strict";e.d(t,{Z:function(){return o}});var n=e(676);function o(r,t){if(r){if("string"===typeof r)return(0,n.Z)(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?(0,n.Z)(r,t):void 0}}},7922:function(r,t,e){"use strict";var n=e(5503);0===n.Z.apps.length&&n.Z.initializeApp({apiKey:"AIzaSyDBORguQ4fUIgHevka4CiC-M44DM5DoBLQ",authDomain:"gt-uoa.firebaseapp.com",projectId:"gt-uoa",storageBucket:"gt-uoa.appspot.com",messagingSenderId:"990838040454",appId:"1:990838040454:web:25634085dc0b6184696e07"}),t.Z=n.Z},3804:function(r,t,e){"use strict";e.r(t),e.d(t,{default:function(){return p}});var n=e(5893),o=e(6156),i=e(7329),c=e(7922),a=(e(6257),e(7294));function u(r,t){var e;if("undefined"===typeof Symbol||null==r[Symbol.iterator]){if(Array.isArray(r)||(e=function(r,t){if(!r)return;if("string"===typeof r)return f(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);"Object"===e&&r.constructor&&(e=r.constructor.name);if("Map"===e||"Set"===e)return Array.from(r);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return f(r,t)}(r))||t&&r&&"number"===typeof r.length){e&&(r=e);var n=0,o=function(){};return{s:o,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(r){throw r},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){e=r[Symbol.iterator]()},n:function(){var r=e.next();return c=r.done,r},e:function(r){a=!0,i=r},f:function(){try{c||null==e.return||e.return()}finally{if(a)throw i}}}}function f(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function s(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.push.apply(e,n)}return e}function l(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?s(Object(e),!0).forEach((function(t){(0,o.Z)(r,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):s(Object(e)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}))}return r}var d=c.Z.firestore();function p(){var r=(0,a.useState)([]),t=r[0],e=r[1],o=(0,a.useState)([]),c=o[0],f=o[1],s=(0,a.useMemo)((function(){for(var r=(0,i.Z)(t),e=0;e<r.length;e++){r[e]._belongTopic=-1;for(var n=0;n<c.length;n++)for(var o=c[n].problems,a=0;a<o.length;a++)o[a].isEqual(r[e]._ref)&&(r[e]._belongTopic=n)}return r}),[t,c]);function p(r){var t=r._belongTopic;-1!==t&&r._ref.update({topic:c[t]._ref})}return(0,a.useEffect)((function(){var r=[d.collection("problems").onSnapshot((function(r){e(r.docs.map((function(r){return l(l({},r.data()),{},{id:r.id,_ref:r.ref})})))})),d.collection("topic").onSnapshot((function(r){f(r.docs.map((function(r){return l(l({},r.data()),{},{id:r.id,_ref:r.ref})})))}))];return function(){var t,e=u(r);try{for(e.s();!(t=e.n()).done;){(0,t.value)()}}catch(n){e.e(n)}finally{e.f()}}}),[]),(0,n.jsxs)("div",{children:[(0,n.jsx)("button",{onClick:function(){var r,t=u(s);try{for(t.s();!(r=t.n()).done;){p(r.value)}}catch(e){t.e(e)}finally{t.f()}},children:"Update problems"}),(0,n.jsx)("h1",{children:"Problems Details"}),(0,n.jsxs)("table",{className:"border-collapse",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Document ID"}),(0,n.jsx)("th",{children:"Details"})]})}),(0,n.jsx)("tbody",{children:s.map((function(r,t){var e="";for(var o in r)e+="".concat(o,": ").concat(r[o],"\n");return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"border",children:r.id}),(0,n.jsx)("td",{className:"border",children:(0,n.jsx)("pre",{children:e})})]},r.id)}))})]})]})}},5827:function(r,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/two_way_reference",function(){return e(3804)}])}},function(r){r.O(0,[828,237,774,888,179],(function(){return t=5827,r(r.s=t);var t}));var t=r.O();_N_E=t}]);